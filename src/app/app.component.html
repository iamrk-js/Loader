<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form [formGroup]="postForm" (ngSubmit)="onPostSubmit()" class="mb-4">
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" name="" formControlName="title" id="title" class="form-control">
        </div>
        <div class="form-group">
          <label for="content">Content</label>
          <textarea rows="4" formControlName="content" id="content" class="form-control"></textarea>
        </div>
        <div class=" text-right">
          <button class="btn btn-primary" type="submit" *ngIf="!isUpdateting">Create Post</button>
          <button class="btn btn-primary" type="button" *ngIf="isUpdateting" (click)="onPostUpdate()">Update
            Post</button>
        </div>
      </form>

      <div class="d-flex flex-column-reverse">
        <ng-container *ngFor="let post of postArray">
          <div class="card mb-4">
            <div class="card-header">
              <h3>
                {{post.title}}
              </h3>
            </div>
            <div class="card-body">
              <p>
                {{post.content}}
              </p>
            </div>
            <div class="card-footer text-right">
              <button class="btn btn-primary" (click)="onEditPost(post)">Edit</button>
              <button class="mx-3 btn btn-danger" (click)="onDeletePost($event, post.id)">Delete</button>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="postArray.length === 0">
          <p class="alert alert-info">
            No data Available Yet
          </p>
        </ng-container>
      </div>
    </div>
  </div>
</div>

<!-- <p [innerHTML]="res">

</p> -->


<div class="mainloader" *ngIf="isLoading">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>